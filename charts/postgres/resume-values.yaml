# Values for resume-backend Postgres (managed by all-infrastructure)
fullnameOverride: resume-backend
auth:
  database: resume_db
  username: resume_user
  existingSecret: resume-backend-postgresql
  secretKeys:
    # The existing SealedSecret for resume-backend-postgresql uses the key
    # name 'postgresql-password' (see cluster-resources/sealed-secrets/...), so
    # ensure the chart's admin password key aligns with that. The Bitnami chart
    # may expect 'postgres-password' by default, but our SealedSecret uses
    # 'postgresql-password' so we configure the chart accordingly here.
    adminPasswordKey: postgresql-password
    userPasswordKey: postgresql-password
architecture: standalone
primary:
  persistence:
    # For the small resume backend we use a Node-local PV (local-storage) to avoid
    # consuming the tenancy's OCI Always Free block volume quota. If you prefer
    # to use OCI block storage, set storageClassName: oci-block-storage instead.
    storageClassName: local-storage
    size: 2Gi
    # Pre-created PVC that binds to resume-postgres-local-pv PersistentVolume.
    # The PVC must exist in the resume-db namespace before Postgres starts.
    existingClaim: resume-backend-0
  resources:
    requests:
      cpu: 25m
      memory: 128Mi
    limits:
      cpu: 100m
      memory: 256Mi
metrics:
  # Disable metrics sidecar for development environments with limited resources
  enabled: false
  serviceMonitor:
    enabled: false
