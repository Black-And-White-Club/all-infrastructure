# NATS Values for nats-io/nats chart
config:
  cluster:
    enabled: false
  jetstream:
    enabled: true
    fileStore:
      enabled: true
      dir: /data
      pvc:
        enabled: true
        size: 10Gi
        storageClassName: "oci-block-storage"
  nats:
    port: 4222
  websocket:
    enabled: true
    port: 9222
    no_tls: true

# Ingress configuration for external access (WebSockets)
ingress:
  enabled: true
  className: nginx
  annotations:
    cert-manager.io/cluster-issuer: letsencrypt-prod
    nginx.ingress.kubernetes.io/proxy-read-timeout: "3600"
    nginx.ingress.kubernetes.io/proxy-send-timeout: "3600"
  hosts:
    - nats.frolf-bot.duckdns.org
  tls:
    - secretName: nats-tls
      hosts:
        - nats.frolf-bot.duckdns.org

# Resource limits for the NATS pod
container:
  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 1Gi

service:
  type: ClusterIP
  ports:
    websocket:
      port: 9222
      name: websocket
